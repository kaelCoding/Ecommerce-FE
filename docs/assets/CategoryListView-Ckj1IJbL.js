import{_ as p,r as f,o as g,c as l,a as t,H as _,g as o,F as b,b as v,d as r,t as u,u as y}from"./index-BqYgPRIw.js";import{g as D,d as C}from"./category-DOvt86mu.js";const k={class:"content-area"},w={class:"content-header"},x={class:"table-responsive"},B={class:"admin-table"},I={class:"table-actions center"},M=["onClick"],V=["onClick"],T={__name:"CategoryListView",setup(F){const i=y(),e=f([]);g(async()=>{await d(),console.log(e.value)});const d=async()=>{await D().then(s=>{e.value=s})},c=s=>{i.push({name:"admin-categories-edit",params:{id:s}})},h=async s=>{if(window.confirm("Bạn có chắc chắn muốn xóa danh mục này không?"))try{await C(s),e.value=e.value.filter(n=>n.ID!==s),alert("Xóa sản phẩm thành công!")}catch(n){console.error("Failed to delete product:",n),alert("Xóa sản phẩm thất bại. Vui lòng thử lại.")}};return(s,n)=>(r(),l("div",null,[n[6]||(n[6]=t("div",{class:"main-header"},[t("h1",null,"Danh Mục")],-1)),t("div",k,[t("div",w,[n[2]||(n[2]=t("h2",null,"Danh sách Danh Mục",-1)),t("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=a=>_(i).push({name:"admin-categories-new"}))},n[1]||(n[1]=[t("i",{class:"fas fa-plus"},null,-1),o(" Thêm Mới ")]))]),t("div",x,[t("table",B,[n[5]||(n[5]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Tên Danh Mục"),t("th",null,"Hành động")])],-1)),t("tbody",null,[(r(!0),l(b,null,v(e.value,a=>(r(),l("tr",{key:a.id},[t("td",null,u(a.ID),1),t("td",null,u(a.name),1),t("td",null,[t("div",I,[t("button",{class:"btn btn-primary",onClick:m=>c(a.ID)},n[3]||(n[3]=[t("i",{class:"fas fa-edit"},null,-1),o(),t("span",null,"Sửa",-1)]),8,M),t("button",{class:"btn btn-primary",onClick:m=>h(a.ID)},n[4]||(n[4]=[t("i",{class:"fas fa-trash"},null,-1),o(),t("span",null,"Xóa",-1)]),8,V)])])]))),128))])])])])]))}},$=p(T,[["__scopeId","data-v-f541a483"]]);export{$ as default};
