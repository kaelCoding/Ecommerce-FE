import{_ as b,u as k,e as C,c as o,a as n,g as e,m as r,b as y,F as v,h as w,i as D,o as a,k as P,t as m,H as S,n as V,L as x}from"./index-byB9gkXP.js";import{u as B}from"./admin-D3EuzYkB.js";import{u as L,C as N}from"./ConfirmationModal-B8PBhIrX.js";import"./category-Dvft4zP0.js";const M={class:"container"},I={class:"content-area"},T={class:"content-header"},F={class:"table-responsive"},H={class:"admin-table"},X={key:1},$=["src","alt"],E={class:"name-ctn"},A={class:"table-actions center"},G=["onClick"],R=["onClick"],j={__name:"ProductListView",setup(q){const{showNotification:c}=k(),d=V(),l=B(),{isConfirmModalVisible:u,showConfirmModal:h,cancelDelete:f,confirmDelete:p}=L(async i=>{try{await l.deleteProduct(i),c("Xóa sản phẩm thành công!")}catch(s){console.error("Failed to delete product:",s),c(s.message||s,"error")}});C(async()=>{await l.fetchProducts()});const _=i=>{d.push({name:"admin-products-edit",params:{id:i}})};return(i,s)=>(a(),o("div",M,[s[6]||(s[6]=n("div",{class:"main-header"},[n("h1",null,"Sản Phẩm")],-1)),n("div",I,[n("div",T,[s[2]||(s[2]=n("h2",null,"Danh sách Sản Phẩm",-1)),n("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=t=>e(d).push({name:"admin-products-new"}))},s[1]||(s[1]=[n("i",{class:"fas fa-plus"},null,-1),r(" Thêm Mới ")]))]),n("div",F,[n("table",H,[s[5]||(s[5]=n("thead",null,[n("tr",null,[n("th",null,"Ảnh"),n("th",{class:"name-ctn"},"Tên"),n("th",null,"Giá"),n("th",null,"Hành động")])],-1)),e(l).isLoading.products?(a(),y(x,{key:0,message:"Đang tải..."})):(a(),o("tbody",X,[(a(!0),o(v,null,w(e(l).products,t=>(a(),o("tr",{key:t.ID},[n("td",null,[t.image_urls&&t.image_urls.length>0?(a(),o("img",{key:0,src:t.image_urls[0],alt:t.name,class:"table-img"},null,8,$)):P("",!0)]),n("td",E,m(t.name),1),n("td",null,m(e(S)(t.price)),1),n("td",null,[n("div",A,[n("button",{class:"btn-primary",onClick:g=>_(t.ID)},s[3]||(s[3]=[n("i",{class:"fas fa-edit"},null,-1),r(),n("span",null,"Sửa",-1)]),8,G),n("button",{class:"btn-primary",onClick:g=>e(h)(t.ID)},s[4]||(s[4]=[n("i",{class:"fas fa-trash"},null,-1),r(),n("span",null,"Xóa",-1)]),8,R)])])]))),128))]))])])]),D(N,{show:e(u),title:"Xác nhận xóa sản phẩm",message:"Bạn có chắc chắn muốn xóa sản phẩm này không? Hành động này không thể hoàn tác.",onConfirm:e(p),onCancel:e(f)},null,8,["show","onConfirm","onCancel"])]))}},Q=b(j,[["__scopeId","data-v-7d1c95c4"]]);export{Q as default};
