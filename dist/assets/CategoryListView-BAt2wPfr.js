import{_ as y,u as _,f as k,c as l,b as n,i as e,p as r,d as b,F as D,j as v,k as w,o as a,t as u,a as M,L as x}from"./index-B41N1OBt.js";import{u as B}from"./admin-D4uRUVUD.js";import{u as L,C as V}from"./ConfirmationModal-DUBBUwh5.js";import"./category-CrKoNrPZ.js";const I={class:"content-area"},N={class:"content-header"},S={class:"table-responsive"},T={class:"admin-table"},F={key:1},X={class:"table-actions center"},$=["onClick"],E=["onClick"],H={__name:"CategoryListView",setup(j){const{showNotification:c}=_(),d=M(),o=B(),{isConfirmModalVisible:m,showConfirmModal:h,cancelDelete:f,confirmDelete:p}=L(async i=>{try{await o.deleteCategory(i),c("Xóa danh mục thành công!")}catch(t){console.error("Failed to delete category:",t),c(t.message||t,"error")}});k(async()=>{await o.fetchCategories()});const g=i=>{d.push({name:"admin-categories-edit",params:{id:i}})};return(i,t)=>(a(),l("div",null,[t[6]||(t[6]=n("div",{class:"main-header"},[n("h1",null,"Danh Mục")],-1)),n("div",I,[n("div",N,[t[2]||(t[2]=n("h2",null,"Danh sách Danh Mục",-1)),n("button",{class:"btn-primary",onClick:t[0]||(t[0]=s=>e(d).push({name:"admin-categories-new"}))},t[1]||(t[1]=[n("i",{class:"fas fa-plus"},null,-1),r(" Thêm Mới ")]))]),n("div",S,[n("table",T,[t[5]||(t[5]=n("thead",null,[n("tr",null,[n("th",null,"ID"),n("th",null,"Tên Danh Mục"),n("th",null,"Hành động")])],-1)),e(o).isLoading.categories?(a(),b(x,{key:0,message:"Đang tải..."})):(a(),l("tbody",F,[(a(!0),l(D,null,v(e(o).categories,s=>(a(),l("tr",{key:s.id},[n("td",null,u(s.ID),1),n("td",null,u(s.name),1),n("td",null,[n("div",X,[n("button",{class:"btn-primary",onClick:C=>g(s.ID)},t[3]||(t[3]=[n("i",{class:"fas fa-edit"},null,-1),r(),n("span",null,"Sửa",-1)]),8,$),n("button",{class:"btn-primary",onClick:C=>e(h)(s.ID)},t[4]||(t[4]=[n("i",{class:"fas fa-trash"},null,-1),r(),n("span",null,"Xóa",-1)]),8,E)])])]))),128))]))])])]),w(V,{show:e(m),title:"Xác nhận xóa danh mục",message:"Bạn có chắc chắn muốn xóa danh mục này không? Hành động này không thể hoàn tác.",onConfirm:e(p),onCancel:e(f)},null,8,["show","onConfirm","onCancel"])]))}},G=y(H,[["__scopeId","data-v-e1864721"]]);export{G as default};
