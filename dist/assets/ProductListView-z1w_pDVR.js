import{_ as b,u as C,e as k,c as o,a as n,h as e,n as r,b as y,F as v,i as w,j as D,o as a,l as P,t as m,G as S,p as V,L as x}from"./index-BXw2fPDX.js";import{u as B}from"./admin-sMTVoZ5D.js";import{u as L,C as N}from"./ConfirmationModal-BCc5ESUC.js";import"./category-DejoU3X-.js";const M={class:"container"},I={class:"content-area"},T={class:"content-header"},F={class:"table-responsive"},X={class:"admin-table"},$={key:1},E=["src","alt"],G={class:"name-ctn"},H={class:"table-actions center"},j=["onClick"],A=["onClick"],R={__name:"ProductListView",setup(q){const{showNotification:c}=C(),d=V(),l=B(),{isConfirmModalVisible:u,showConfirmModal:h,cancelDelete:f,confirmDelete:p}=L(async i=>{try{await l.deleteProduct(i),c("Xóa sản phẩm thành công!")}catch(s){console.error("Failed to delete product:",s),c(s.message||s,"error")}});k(async()=>{await l.fetchProducts()});const _=i=>{d.push({name:"admin-products-edit",params:{id:i}})};return(i,s)=>(a(),o("div",M,[s[6]||(s[6]=n("div",{class:"main-header"},[n("h1",null,"Sản Phẩm")],-1)),n("div",I,[n("div",T,[s[2]||(s[2]=n("h2",null,"Danh sách Sản Phẩm",-1)),n("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=t=>e(d).push({name:"admin-products-new"}))},s[1]||(s[1]=[n("i",{class:"fas fa-plus"},null,-1),r(" Thêm Mới ")]))]),n("div",F,[n("table",X,[s[5]||(s[5]=n("thead",null,[n("tr",null,[n("th",null,"Ảnh"),n("th",{class:"name-ctn"},"Tên"),n("th",null,"Giá"),n("th",null,"Hành động")])],-1)),e(l).isLoading.products?(a(),y(x,{key:0,message:"Đang tải..."})):(a(),o("tbody",$,[(a(!0),o(v,null,w(e(l).products,t=>(a(),o("tr",{key:t.ID},[n("td",null,[t.image_urls&&t.image_urls.length>0?(a(),o("img",{key:0,src:t.image_urls[0],alt:t.name,class:"table-img"},null,8,E)):P("",!0)]),n("td",G,m(t.name),1),n("td",null,m(e(S)(t.price)),1),n("td",null,[n("div",H,[n("button",{class:"btn-primary",onClick:g=>_(t.ID)},s[3]||(s[3]=[n("i",{class:"fas fa-edit"},null,-1),r(),n("span",null,"Sửa",-1)]),8,j),n("button",{class:"btn-primary",onClick:g=>e(h)(t.ID)},s[4]||(s[4]=[n("i",{class:"fas fa-trash"},null,-1),r(),n("span",null,"Xóa",-1)]),8,A)])])]))),128))]))])])]),D(N,{show:e(u),title:"Xác nhận xóa sản phẩm",message:"Bạn có chắc chắn muốn xóa sản phẩm này không? Hành động này không thể hoàn tác.",onConfirm:e(p),onCancel:e(f)},null,8,["show","onConfirm","onCancel"])]))}},Q=b(R,[["__scopeId","data-v-b35479db"]]);export{Q as default};
