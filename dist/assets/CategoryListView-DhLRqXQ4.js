import{_ as y,a as _,i as b,c as l,d as n,m as k,f as e,q as r,e as D,F as v,l as w,b as M,o as a,t as m,L as x}from"./index-B0cCL04z.js";import{u as B}from"./admin-DlmSrlVb.js";import{u as L,C as V}from"./ConfirmationModal-DlaCKoqu.js";import"./category-B4abgVIq.js";const I={class:"content-area"},N={class:"content-header"},S={class:"table-responsive"},T={class:"admin-table"},F={key:1},X={class:"table-actions center"},$=["onClick"],E=["onClick"],H={__name:"CategoryListView",setup(q){const{showNotification:c}=_(),d=M(),o=B(),{isConfirmModalVisible:u,showConfirmModal:h,cancelDelete:f,confirmDelete:p}=L(async i=>{try{await o.deleteCategory(i),c("Xóa danh mục thành công!")}catch(t){console.error("Failed to delete category:",t),c(t.message||t,"error")}});b(async()=>{await o.fetchCategories()});const g=i=>{d.push({name:"admin-categories-edit",params:{id:i}})};return(i,t)=>(a(),l("div",null,[t[6]||(t[6]=n("div",{class:"main-header"},[n("h1",null,"Danh Mục")],-1)),n("div",I,[n("div",N,[t[2]||(t[2]=n("h2",null,"Danh sách Danh Mục",-1)),n("button",{class:"btn-primary",onClick:t[0]||(t[0]=s=>e(d).push({name:"admin-categories-new"}))},[...t[1]||(t[1]=[n("i",{class:"fas fa-plus"},null,-1),r(" Thêm Mới ",-1)])])]),n("div",S,[n("table",T,[t[5]||(t[5]=n("thead",null,[n("tr",null,[n("th",null,"ID"),n("th",null,"Tên Danh Mục"),n("th",null,"Hành động")])],-1)),e(o).isLoading.categories?(a(),D(x,{key:0,message:"Đang tải..."})):(a(),l("tbody",F,[(a(!0),l(v,null,w(e(o).categories,s=>(a(),l("tr",{key:s.id},[n("td",null,m(s.ID),1),n("td",null,m(s.name),1),n("td",null,[n("div",X,[n("button",{class:"btn-primary",onClick:C=>g(s.ID)},[...t[3]||(t[3]=[n("i",{class:"fas fa-edit"},null,-1),r(),n("span",null,"Sửa",-1)])],8,$),n("button",{class:"btn-primary",onClick:C=>e(h)(s.ID)},[...t[4]||(t[4]=[n("i",{class:"fas fa-trash"},null,-1),r(),n("span",null,"Xóa",-1)])],8,E)])])]))),128))]))])])]),k(V,{show:e(u),title:"Xác nhận xóa danh mục",message:"Bạn có chắc chắn muốn xóa danh mục này không? Hành động này không thể hoàn tác.",onConfirm:e(p),onCancel:e(f)},null,8,["show","onConfirm","onCancel"])]))}},G=y(H,[["__scopeId","data-v-e1864721"]]);export{G as default};
