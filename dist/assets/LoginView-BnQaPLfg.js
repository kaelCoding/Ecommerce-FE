import{u as m,r as c,c as f,b as t,w as g,e as n,v as i,k as v,l as w,n as _,o as h,p as k,a as y,s as x,x as b,y as V,z as N,g as q}from"./index-TAlcRXIZ.js";const B={class:"container"},C={class:"form-container"},E={class:"form-group"},M={class:"form-group"},L={class:"form-switch-text"},U={__name:"LoginView",setup(R){const{showNotification:r}=m(),l=y(),u=x(),s=c({email:"",password:""}),d=async()=>{try{const e=await b(s.value);V(e.token),await N(),console.log(q.value),r("Đăng nhập thành công.");const o=u.query.redirect||"/";l.push(o)}catch(e){console.log("on login error ",e),r(e,"error")}};return(e,o)=>{const p=_("router-link");return h(),f("div",B,[t("div",C,[o[7]||(o[7]=t("h1",{class:"form-title"},"Đăng nhập",-1)),t("form",{onSubmit:g(d,["prevent"])},[t("div",E,[o[2]||(o[2]=t("label",{for:"email"},"Email",-1)),n(t("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s.value.email=a),type:"text",class:"form-input",id:"email",placeholder:"Enter email",required:""},null,512),[[i,s.value.email]])]),t("div",M,[o[3]||(o[3]=t("label",{for:"password"},"Mật khẩu",-1)),n(t("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s.value.password=a),type:"password",class:"form-input",id:"password",placeholder:"••••••••",required:""},null,512),[[i,s.value.password]])]),o[6]||(o[6]=t("div",{class:"form-actions"},[t("button",{type:"submit",class:"btn-primary"},"Đăng nhập")],-1)),t("p",L,[o[5]||(o[5]=t("span",null,"Chưa có tài khoản?",-1)),v(p,{to:"/register"},{default:w(()=>o[4]||(o[4]=[k(" Đăng ký ngay")])),_:1})])],32)])])}}};export{U as default};
