import{P as m}from"./Card-CgeUxnfB.js";import{_ as f,u as v,r as l,e as y,c as a,a as n,b as u,F as d,g as p,o as s,t as k,L as P}from"./index-2CdpPLmO.js";import{g as w,a as L}from"./category-CUGJxbzB.js";const B={class:"container"},I={key:1,class:"no-products-state"},N={key:2,class:"products-ctn"},x={class:"category-title"},D={class:"product-grid"},F={__name:"ProductListView",setup(S){const _=v(),c=l(!0),i=l([]);y(async()=>{await h()});const h=async()=>{c.value=!0;try{const e=await w();if(!e||e.length===0)return;const o=e.map(t=>L(t.ID).then(g=>({...t,products:g}))),r=await Promise.all(o);i.value=r.filter(t=>t.products&&t.products.length>0)}catch(e){console.error("Failed to fetch data for home view:",e),_(e,"error")}finally{c.value=!1}};return(e,o)=>(s(),a("div",null,[n("div",B,[o[1]||(o[1]=n("h1",{class:"page-title"},"TẤT CẢ SẢN PHẨM",-1)),c.value?(s(),u(P,{key:0,message:"Đang tải sản phẩm..."})):!c.value&&i.value.length===0?(s(),a("div",I,o[0]||(o[0]=[n("p",null,"Không có sản phẩm nào để hiển thị.",-1)]))):(s(),a("div",N,[(s(!0),a(d,null,p(i.value,r=>(s(),a("section",{key:r.ID,class:"product-section"},[n("h2",x,k(r.name),1),n("div",D,[(s(!0),a(d,null,p(r.products,t=>(s(),u(m,{key:t.ID,product:t},null,8,["product"]))),128))])]))),128))]))])]))}},M=f(F,[["__scopeId","data-v-98d8da06"]]);export{M as default};
